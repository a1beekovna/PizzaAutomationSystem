<!-- README для проекта PizzaAutomationSystem -->

# Pizza Automation System - система автоматизации пиццерии.

Десктопная система для пиццерии, реализованная на Java 17 и JavaFX. Приложение хранит данные в локальной H2 базе, использует JDBC для доступа и Maven для сборки.

---

## Что умеет приложение

- Управление меню пицц: добавление, редактирование, включение/отключение в продаже.
- Оформление заказов: сбор корзины, выбор способа получения (самовывоз/доставка), выбор способа оплаты.
- Учёт клиентов: базовая карточка клиента, контакты и история заказов.
- Простейшая аналитика: количество заказов, выручка и популярные позиции.

---

## Архитектуре

- Слои: презентация (FXML + контроллеры), сервисный слой и слой доступа к данным (DAO).
- Точка входа: `com.pizzeria.MainApp`.
- Главный контроллер: `com.pizzeria.controllers.MainController`.
- Бизнес-логика реализована в `src/main/java/com/pizzeria/services`, доступ к данным — в `src/main/java/com/pizzeria/dao`.

---

## Где и как хранятся данные

- Проект использует файловую H2-базу. URL по умолчанию задаётся в `com.pizzeria.dao.DatabaseConnection`:

```
jdbc:h2:file:./database/pizzeria;DB_CLOSE_DELAY=-1
```

- Схема и стартовые данные лежат в `src/main/resources/schema.sql`. При запуске приложение читает и выполняет этот файл, создаёт таблицы и добавляет тестовые записи (пиццы).
- Каталоги данных и логов: `database/`, `data/`, `logs/`.

---

## ООП 

- Модель — отдельные POJO-классы (`models/`) с инкапсуляцией и геттерами/сеттерами.
- Логика работы с БД инкапсулирована в DAO-классах; сервисы реализуют бизнес-правила и выступают интерфейсом для контроллеров.
- Код старается следовать SRP (единственной ответственности) и разделению слоёв для упрощения тестирования.

---

## Быстрый старт: запуск локально

1) Убедитесь, что установлены:
   - JDK 17
   - Maven
   - JavaFX SDK (версия 17 предпочтительна)

2) Укажите путь к JavaFX (пример для macOS/Linux):

```bash
export JAVAFX_HOME="$HOME/Downloads/javafx-sdk-17.0.17"
```

3) Подготовьте структуру папок (в корне репозитория):

```bash
./PizzaAutomationSystem/init_data.sh
```

4) Запустите из корня проекта через Maven:

```bash
mvn clean compile javafx:run -Djavafx.home="$JAVAFX_HOME"
```

Или используйте локальный скрипт (если пути корректны):

```bash
chmod +x start_pizza.sh
./start_pizza.sh
```

Запуск в IDE (IntelliJ): добавьте VM-опции

```
--module-path /path/to/javafx-sdk-17.0.17/lib --add-modules javafx.controls,javafx.fxml
```

---

## Результаты проверок и тестирование

- Автоматических тестов в репозитории не найдено (unit/integration tests отсутствуют).
- Рекомендуемые ручные проверки после сборки:
  - Проверить, что при первом запуске выполняется `schema.sql` и создаются файлы в `database/`.
  - Открыть приложение и убедиться, что главное окно загружается без ошибок.
  - Создать тестовые заказы, проверить их отображение в списке и в базе.

- Рекомендации по автоматизации тестирования:
  - Добавить unit-тесты для `services` и `dao` (использовать H2 в памяти для тестов).
  - Настроить GitHub Actions для сборки и запуска тестов.

---

## Полезные пути и файлы

- Основной pom: `PizzaAutomationSystem/pom.xml`
- Точка входа: `src/main/java/com/pizzeria/MainApp.java`
- Схема БД: `src/main/resources/schema.sql`
- Скрипты: `start_pizza.sh`, `run_simple.sh`, `init_data.sh`

---

## Автор
Қабиболла Жұлдыз Айбекқызы.
